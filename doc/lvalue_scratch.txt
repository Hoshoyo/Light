TYPE := TYPE_PRIMITIVE | TYPE_ARRAY | TYPE_STRUCT | ^TYPE

LVALUE TYPE_STRUCT   . LVALUE TYPE |-> LVALUE TYPE
LVALUE ^TYPE_STRUCT  . LVALUE TYPE  |-> LVALUE TYPE

vec2 :: struct {
	x : r32;
	y : r32;
}

foo :: struct {
	bar : [3]^vec2;
	dor : ^[3]^vec2;
}

foo.bar[0].x;

lvalue foo . lvalue [3]^vec2 . r32
lvalue [3]^vec2 . r32
r32

LVALUE TYPE_STRUCT . LVALUE ^TYPE_STRUCT |-> LVALUE ^TYPE_STRUCT
LVALUE ^TYPE_STRUCT . TYPE_PRIMITIVE |-> LVALUE TYPE_PRIMITIVE



foo.dor[0].x;

LVALUE TYPE_STRUCT . LVALUE TYPE_ARRAY . LVALUE TYPE_PRIMITIVE
LVALUE TYPE_ARRAY . TYPE_PRIMITIVE	// ERROR

foo.dor[0][0].x;

dor[0]    -> [3]^vec2
dor[0][0] -> ^vec2

LVALUE TYPE_STRUCT . LVALUE ^TYPE_STRUCT . LVALUE TYPE_PRIMITIVE
LVALUE ^TYPE_STRUCT . LVALUE TYPE_PRIMITIVE
LVALUE TYPE_PRIMITIVE