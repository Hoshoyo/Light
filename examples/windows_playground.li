#import "./examples/windows/windows.li"

string :: struct {
	length : s64;
	capacity : s64;
	data : ^u8;
}

foo :: (exception_ptrs : ^void) -> s64 {
	std_handle := GetStdHandle(STD_OUTPUT_HANDLE);
	f := "Hello";
	written : u32;
	WriteConsoleA(std_handle, cast(^void)f.data, cast(u32)f.length, &written, cast(^void)0);
	return 0;
}

main :: () -> s32 {
	SetUnhandledExceptionFilter(foo);
	
	foo : ^s8;
	*foo = 1;
	
	return 0;
}