#import "./examples/print.li"

square :: (v : s32) -> s32{
    return (v * v);
}

make_proc :: () -> (s32) -> s32 {
    return square;
}

map :: (arr : ^s32, length : s64, f : (s32)->s64, sq : (s32) -> s32) -> void {
    i := 0;
    for i < length {
        if i != 0 {
            print_str(", ");
        }

        f(sq(arr[i]));
        i += 1;
    }
}

main :: () -> s32 {
    a := make_proc();
    v : [5]s32 = array{0,1,2,3,4};

    map(cast(^s32)v, 5, print_s32, a);

    return 0;
}