#import "linux/print.li"
#import "../standard_library/hash_table.li"
#import "../standard_library/dynamic_array.li"

ivec3 :: struct {
	x : s32;
	y : s32;
	z : s32;
}

main :: () -> s32 {
	i : ivec3;
	a := dynamic_array_create(#typeof i);
	table := hash_table_create(#typeof i);

	i1 := ivec3:{1, 2, 3};
	dynamic_array_push(&a, &i1);
	i2 := ivec3:{4, 5, 6};
	dynamic_array_push(&a, &i2);
	i3 := ivec3:{7, 8, 9};
	dynamic_array_push(&a, &i3);
	i4 := ivec3:{10, 11, 12};
	dynamic_array_push(&a, &i4);
	i5 := ivec3:{13, 14, 15};
	dynamic_array_push(&a, &i5);

	index1 := hash_table_push(table, &i1, #sizeof ivec3);
	print_u64(index1);
	print_string("\n");
	index2 := hash_table_push(table, &i1, #sizeof ivec3);
	print_u64(index2);
	print_string("\n");
	

	for i := 0; i < a.length; i += 1 {
		print_ivec3(*([^ivec3]a.data + i));
		//print_s64(*([^s64]a.data + i));
		print_string("\n");
	}

	return 0;
}

print_ivec3 :: (v : ivec3) {
    print_string("{");
    print_s32(v.x);
    print_string(", ");
    print_s32(v.y);
    print_string(", ");
    print_s32(v.z);
    print_string("}");
}